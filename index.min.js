(function(){const handleLoadError=$el=>{if($el.dataset.error){$el.parentNode.innerHTML=$el.dataset.error}};const insertData=(html,$el)=>{$el.parentNode.innerHTML=html};const getData=(url,$el)=>{const xhr=new XMLHttpRequest;xhr.onload=function(){if(xhr.status===200){insertData(xhr.response,$el);return}handleLoadError($el);return};xhr.open("GET",url);xhr.send()};const parseElements=()=>{const $els=document.querySelectorAll("[data-include-fragment]");for(let i=0;i<$els.length;i++){const $el=$els[i];if($el.dataset.src){getData($el.dataset.src,$el)}}};const observer=new MutationObserver((mutationsList=>{for(const mutation of mutationsList){if(mutation.type==="childList"){parseElements()}if(mutation.type==="attributes"&&mutation.attributeName==="data-src"){parseElements()}}}));observer.observe(document.body,{attributes:true,childList:true,subtree:true})})();